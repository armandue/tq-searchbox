<div id="tqSearchBox">
  <div id="tqSearchBoxBorder">
  	<div id="tqSearchBoxCombo">
  		<div id="tqSearchBoxInputGroup" class="input-group input-group-sm" ng-repeat="parameter in $ctrl.output.parameters">
		  <span  id="tqSearchBoxInputFront" class="input-group-addon">{{parameter.name}} :</span>
		  <span id="tqSearchBoxFieldMid"
		  	class="input-group-addon" 
		  	ng-show="!$ctrl.ifFocused(parameter) && parameter.value"
		  	ng-click="$ctrl.restoreSearch(parameter)">{{parameter.value}}</span>
		  <input type="text"
		  	id="tqSearchBoxInputMid"
		  	ng-show="$ctrl.ifFocused(parameter)" 
		  	class="form-control" 
		  	ng-model="parameter.value"
		  	ng-attr-id="{{parameter.key}}"
		  	typeahead-min-length="0"
		  	typeahead-select-on-blur="true"
            ng-blur="$ctrl.checkInputValue(parameter)"
            ng-keydown="$ctrl.keydownOnParameter($event, parameter)"
		  	uib-typeahead="value as value for value in $ctrl.getSuggestions(parameter, $viewValue)">
		  <span id="tqSearchBoxInputEnd" class="input-group-addon">
		  	<i class="glyphicon glyphicon-trash" ng-click="$ctrl.removeParameter(parameter)"></i>
		  </span>
		</div>
  		<input type="text" 
  			id="tqSearchBoxInput"
	  		placeholder="{{$ctrl.placeholder}}"
			ng-model="$ctrl.output.query"
			uib-typeahead="parameter as parameter.name for parameter in $ctrl.innerParameters | filter:$viewValue | orderBy: '-name' : true"
			typeahead-on-select="$ctrl.selectSearchItem($item, $model, $label, $event)"
			class="form-control"
			typeahead-min-length="0"
			typeahead-focus-on-select="false">
		<span id="tqSearchBoxInputTrash">
			<i class="glyphicon glyphicon-trash pointer" ng-click="$ctrl.removeAllParameters()"></i>
		</span>
  	</div>
  </div>
</div>

